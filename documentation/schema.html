<!doctype html>
<html data-reactid=".1p659rj1bls" data-react-checksum="37197052"><head data-reactid=".1p659rj1bls.0"><title data-reactid=".1p659rj1bls.0.0">React Forms</title><link rel="stylesheet" href="&#x2f;react-forms&#x2f;styles&#x2f;index.css" data-reactid=".1p659rj1bls.0.1"></head><body title="React Forms" data-reactid=".1p659rj1bls.1"><nav class="NavigationBar navbar navbar-default navbar-fixed-top" role="navigation" data-reactid=".1p659rj1bls.1.0"><div class="container-fluid" data-reactid=".1p659rj1bls.1.0.0"><div class="navbar-header" data-reactid=".1p659rj1bls.1.0.0.0"><a class="navbar-brand" href="&#x2f;react-forms&#x2f;" data-reactid=".1p659rj1bls.1.0.0.0.0">React Forms</a></div><div class="collapse navbar-collapse" data-reactid=".1p659rj1bls.1.0.0.1"><ul class="nav navbar-nav" data-reactid=".1p659rj1bls.1.0.0.1.0"><li class="dropdown" data-reactid=".1p659rj1bls.1.0.0.1.0.$documentation&#x2f;"><a class="dropdown-toggle" href="&#x2f;react-forms&#x2f;documentation&#x2f;" data-reactid=".1p659rj1bls.1.0.0.1.0.$documentation&#x2f;.0"><span data-reactid=".1p659rj1bls.1.0.0.1.0.$documentation&#x2f;.0.0">Documentation</span><span data-reactid=".1p659rj1bls.1.0.0.1.0.$documentation&#x2f;.0.1"> </span><b class="caret" data-reactid=".1p659rj1bls.1.0.0.1.0.$documentation&#x2f;.0.2"></b></a><ul class="dropdown-menu" data-reactid=".1p659rj1bls.1.0.0.1.0.$documentation&#x2f;.1"><li data-reactid=".1p659rj1bls.1.0.0.1.0.$documentation&#x2f;.1.$documentation&#x2f;__documentation&#x2f;"><a href="&#x2f;react-forms&#x2f;documentation&#x2f;" data-reactid=".1p659rj1bls.1.0.0.1.0.$documentation&#x2f;.1.$documentation&#x2f;__documentation&#x2f;.0">Overview</a></li><li data-reactid=".1p659rj1bls.1.0.0.1.0.$documentation&#x2f;.1.$documentation&#x2f;__documentation&#x2f;schema=1html"><a href="&#x2f;react-forms&#x2f;documentation&#x2f;schema.html" data-reactid=".1p659rj1bls.1.0.0.1.0.$documentation&#x2f;.1.$documentation&#x2f;__documentation&#x2f;schema=1html.0">Schemas and validation</a></li><li data-reactid=".1p659rj1bls.1.0.0.1.0.$documentation&#x2f;.1.$documentation&#x2f;__documentation&#x2f;customizations=1html"><a href="&#x2f;react-forms&#x2f;documentation&#x2f;customizations.html" data-reactid=".1p659rj1bls.1.0.0.1.0.$documentation&#x2f;.1.$documentation&#x2f;__documentation&#x2f;customizations=1html.0">Customizations</a></li></ul></li><li class="dropdown" data-reactid=".1p659rj1bls.1.0.0.1.0.$examples&#x2f;family-editor=1html"><a class="dropdown-toggle" href="&#x2f;react-forms&#x2f;examples&#x2f;family-editor.html" data-reactid=".1p659rj1bls.1.0.0.1.0.$examples&#x2f;family-editor=1html.0"><span data-reactid=".1p659rj1bls.1.0.0.1.0.$examples&#x2f;family-editor=1html.0.0">Examples</span><span data-reactid=".1p659rj1bls.1.0.0.1.0.$examples&#x2f;family-editor=1html.0.1"> </span><b class="caret" data-reactid=".1p659rj1bls.1.0.0.1.0.$examples&#x2f;family-editor=1html.0.2"></b></a><ul class="dropdown-menu" data-reactid=".1p659rj1bls.1.0.0.1.0.$examples&#x2f;family-editor=1html.1"><li data-reactid=".1p659rj1bls.1.0.0.1.0.$examples&#x2f;family-editor=1html.1.$examples&#x2f;family-editor=1html__examples&#x2f;family-editor=1html"><a href="&#x2f;react-forms&#x2f;examples&#x2f;family-editor.html" data-reactid=".1p659rj1bls.1.0.0.1.0.$examples&#x2f;family-editor=1html.1.$examples&#x2f;family-editor=1html__examples&#x2f;family-editor=1html.0">Family editor form</a></li><li data-reactid=".1p659rj1bls.1.0.0.1.0.$examples&#x2f;family-editor=1html.1.$examples&#x2f;family-editor=1html__examples&#x2f;array-editor=1html"><a href="&#x2f;react-forms&#x2f;examples&#x2f;array-editor.html" data-reactid=".1p659rj1bls.1.0.0.1.0.$examples&#x2f;family-editor=1html.1.$examples&#x2f;family-editor=1html__examples&#x2f;array-editor=1html.0">Array editor form</a></li><li data-reactid=".1p659rj1bls.1.0.0.1.0.$examples&#x2f;family-editor=1html.1.$examples&#x2f;family-editor=1html__examples&#x2f;sortable-list=1html"><a href="&#x2f;react-forms&#x2f;examples&#x2f;sortable-list.html" data-reactid=".1p659rj1bls.1.0.0.1.0.$examples&#x2f;family-editor=1html.1.$examples&#x2f;family-editor=1html__examples&#x2f;sortable-list=1html.0">Sortable list</a></li><li data-reactid=".1p659rj1bls.1.0.0.1.0.$examples&#x2f;family-editor=1html.1.$examples&#x2f;family-editor=1html__examples&#x2f;undo=1html"><a href="&#x2f;react-forms&#x2f;examples&#x2f;undo.html" data-reactid=".1p659rj1bls.1.0.0.1.0.$examples&#x2f;family-editor=1html.1.$examples&#x2f;family-editor=1html__examples&#x2f;undo=1html.0">Form with undo stack</a></li></ul></li><li data-reactid=".1p659rj1bls.1.0.0.1.0.$api=1html"><a href="&#x2f;react-forms&#x2f;api.html" data-reactid=".1p659rj1bls.1.0.0.1.0.$api=1html.0">API</a></li></ul><div class="navbar-repo" data-reactid=".1p659rj1bls.1.0.0.1.1"><a href="https:&#x2f;&#x2f;github.com&#x2f;prometheusresearch&#x2f;react-forms" data-reactid=".1p659rj1bls.1.0.0.1.1.0"><span data-reactid=".1p659rj1bls.1.0.0.1.1.0.0">React Forms</span><span data-reactid=".1p659rj1bls.1.0.0.1.1.0.1"> on GitHub â†’</span></a></div></div></div></nav><div class="wrapper" data-reactid=".1p659rj1bls.1.1"><div class="Content container " data-reactid=".1p659rj1bls.1.1.0"><h1 id="schemas-and-validation">Schemas and validation</h1>
<p>Form schemas are high-level declarative descriptions of forms. They describe
every field of the form, how it should rendered, what&#39;s the shape of the data
and how it should be validated.</p>
<p>React Forms provides <code>Schema</code>, <code>List</code> and <code>Property</code> schema nodes to describe
mapping, list and scalar values correspondingly:</p>
<pre><code>var Schema    = ReactForms.schema.Schema
var List      = ReactForms.schema.List
var Property  = ReactForms.schema.Property

var PersonSchema = Schema(null,
  Property({name: &#39;name&#39;, label: &#39;Name&#39;}),
  Property({name: &#39;dob&#39;, label: &#39;Date Of Birth&#39;})
)
</code></pre><p>Object <code>PersonSchema</code> is a schema for objects which represent persons, every
person have <code>name</code> and <code>dob</code> properties with labels <code>Name</code> and <code>Date Of Birth</code>
correspondingly. Attribute <code>name</code> is required for schema nodes which are defined
as a part of <code>Schema</code> declarations.</p>
<p>Forms schema API is designed to be compatible with JSX. The schema above can be
specified using JSX syntax.</p>
<pre><code>var PersonSchema = (
  &lt;Schema&gt;
    &lt;Property name=&quot;name&quot; label=&quot;Name&quot; /&gt;
    &lt;Property name=&quot;dob&quot; label=&quot;Date Of Birth&quot; /&gt;
  &lt;/Schema&gt;
)
</code></pre><h3 id="reusable-schemas">Reusable schemas</h3>
<p>Schemas are immutable values and can be reused as parts of more sophisticated
schemas as much as needed.</p>
<p>Also it is possible to define parametrized schemas as functions which
construct schema nodes based on arguments passed:</p>
<pre><code>function Name(props) {
  props = props || {}
  return &lt;Property name={props.name || &#39;name&#39;} label=&quot;Name&quot; /&gt;
}
</code></pre><h3 id="schema-metadata">Schema metadata</h3>
<p>There are a couple of schema metadata (alongside <code>name</code>) supported by form
components out of the box.</p>
<p>Schema metadata related to validation:</p>
<ul>
<li><code>type</code> property can be used to specify type of the schema which defines how
object is serialized to/deserialize from DOM value. You can read more about
schema types below.</li>
<li><code>validate</code> property is used to specify validators for
values corresponding to schema.</li>
<li><code>defaultValue</code> is used to define a value which will be used when a
corresponding value for schema node is absent</li>
</ul>
<p>Schema metadata related to presentation:</p>
<ul>
<li><code>label</code> property is used by form components to render <code>&lt;label /&gt;</code>
elements for form fields</li>
<li><code>hint</code> property if specified</li>
</ul>
<p>Example of schema declarations which define all the available metadata
properties:</p>
<pre><code>&lt;Property
  name=&quot;age&quot;
  type=&quot;number&quot;
  defaultValue={27}
  validate={function(v) { return v &gt; 0 }}
  label=&quot;Age&quot;
  hint=&quot;How old are you?&quot;
  /&gt;
</code></pre><h3 id="property-types">Property types</h3>
<p>Properties (schema nodes corresponding to scalars) can specify type of the value
they represent.</p>
<p>Type defines how value is serialized to/deserialized from its DOM
representation. For example if you work with dates you would want to define type
which would marshal strings in format <code>&quot;YYYY-MM-DD&quot;</code> into <code>Date</code> objects and
vice versa. Fortunately there&#39;s built-in <code>date</code> type for that:</p>
<pre><code>&lt;Schema&gt;
  ...
  &lt;Property name=&quot;birthday&quot; type=&quot;date&quot; /&gt;
  ...
&lt;/Schema&gt;
</code></pre><p>You can refer to built-in types by specifying a <code>type</code> property which has type
name as its string value. Currently React Forms provide a limited set of
built-in types: <code>date</code>, <code>number</code> and <code>string</code> (used by default if no type is
specified). But you can create a custom one easily.</p>
<p>Schema types are simply objects with <code>serialize</code> and <code>deserialize</code> methods.
Method <code>serialize</code> is called before value is sent to input component and
<code>deserialize</code> is called on change before validation occurs.</p>
<p>Method <code>deserialize</code> could also throw an exception in case it cannot deserialize
a passed value.</p>
<pre><code>var MyType = {

  serialize: function(value) {
    // return a value which will be passed
    // to input component, probably a string
  },

  deserialize: function(value) {
    // return a value which will be passed
    // through validators and stored as a part
    // of the form value
  }
}

&lt;Property type={MyType} /&gt;
</code></pre><h3 id="validation">Validation</h3>
<p>Schema is used by form components to validate form value. Basic validation is
done by schema types. But to specify more sophisticated validation rules one can
attach custom validators to each schema node.</p>
<p>Validators are functions which can return a boolean value: <code>true</code> corresponds to
validation success and <code>false</code> to validation failure.</p>
<p>For example one can define a reusable schema node for positive numbers which
validates only if corresponding value is a number and is greater than zero:</p>
<pre><code>function PositiveNumber(props) {
  props = props || {};
  return (
    &lt;Property
      name={props.name}
      type=&quot;number&quot;
      validate={function(v) { return v &gt; 0; }}
      /&gt;
  )
}
</code></pre></div></div><script src="&#x2f;react-forms&#x2f;scripts&#x2f;react.js" data-reactid=".1p659rj1bls.1.2"></script><script src="&#x2f;react-forms&#x2f;scripts&#x2f;react-forms.js" data-reactid=".1p659rj1bls.1.3"></script></body></html>